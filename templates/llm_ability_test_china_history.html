<!DOCTYPE HTML>

<html>
	<head>
		<title>Photon by HTML5 UP</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="static/css/main.css" />
		<script type="text/javascript" src="{{ url_for('static', filename='llmindex.js') }}"></script>
		<noscript><link rel="stylesheet" href="static/css/noscript.css" /></noscript>
		<link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/@tabler/core@1.2.0/dist/css/tabler.min.css" />
 <link rel="preconnect" href="https://fonts.googleapis.com" />
 <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
 <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet" />
 <style>
  :root {
    --tblr-font-sans-serif: "‌‌Open Sans‌";
  }
</style>
<style>
  :root {
    --tblr-primary: #1e1af3;
  }
		<script>

        // 使用 JavaScript 在页面加载时设置值
        // 使用 JavaScript 在页面加载时设置值
        document.addEventListener("DOMContentLoaded", function() {
            // 从后端传递的 JSON 数据中获取值
            const result = {{ result|tojson }};

            // 填写用户之前输出的值
			if (result.model){
				// 获取所有单选按钮
				var radioButtons = document.querySelectorAll('input[name="module_choose"]');

				// 遍历单选按钮，找到匹配的值
				radioButtons.forEach(function(radio) {
					if (radio.value === result.model) {
						radio.checked = true; // 设置为选中状态
					}
				});
				document.getElementById('prompt_choose').value = result.select_prompt;
				var promptChoice = result.select_prompt; // 获取选中的问题类型
				var templateChoose = document.getElementById('template_choose'); // 获取第二个下拉框

				// 清空第二个下拉框的内容
				templateChoose.innerHTML = '';

				// 根据选择的类型动态生成选项
				var options = [];
				var correctAnswer = ''

				if (promptChoice === "炎帝是我国传说时代的英雄，又称神农氏。据传他使用“焚林而田”的耕作方法，还发明了耒、耜等生产工具。这些传说") {
					options = [
						'A 可以作为中国原始农耕的直接证据',
						'B 证明了炎帝的真实存在',
						'C 是一种没有史料价值的想象',
						'D 折射出中国农耕文明源远流长'
					];
					correctAnswer = 'D 折射出中国农耕文明源远流长'
				} else if (promptChoice === "长征期间，国内外形势发生重大变化，民族矛盾加剧，中国共产党的方针政策进行重大调整。这一调整是指") {
					options = [
						'A 召开八七会议，确定武装反抗国民党反动派的总方针',
						'B 召开七大，确立毛泽东思想的指导地位',
						'C 发表“八一宣言”，号召停止内战，一致抗日',
						'D 召开遵义会议，纠正“左”倾错误路线'
					];
					correctAnswer = 'C 发表“八一宣言”，号召停止内战，一致抗日'
				}
				else if (promptChoice === "随着中国民族资本主义产生和发展，工商业者群体意识逐渐形成，作为一种新的社会力量，工商业者在创办实业、抵制洋货、收回利权、立宪运动、民主革命、抗日救亡等众多社会事务中日益显示出自身的实力和存在价值。对此，下列历史解释正确的是") {
					options = [
						'A 工商业者是倡导革命的新中坚力量',
						'B 工商业者依旧属于传统的社会群体',
						'C 工商业者投身社会事务是有利可图',
						'D 工商业者推动了近代中国社会发展'
					];
					correctAnswer = 'D 工商业者推动了近代中国社会发展'
				}
				else if (promptChoice === "乾隆时江南地主“所居在城或他州异县，地亩山场皆委之佃户”。苏州甚至出现“土著安业者田不满百亩，余皆佃农也。上田半归于郡城之富户”。由此可知，当时江南") {
					options = [
						'A 个体农耕为主要生产形式',
						'B 农业中商品化生产普遍',
						'C 农业生产利润微不足道',
						'D 土地所有权变更极为频繁'
					];
					correctAnswer = 'A 个体农耕为主要生产形式'
				}
				else if (promptChoice === "《新全球史》记载，从公元前6世纪开始，铁制农具在中国骤然增加，铁犁、铁镐、铁镰刀和铁耙在乡村里成为日常用具，这一现象给当时社会发展带来的影响不包括") {
					options = [
						'A “庶人食力，工商食官”',
						'B “除井田，民得买卖”',
						'C “宗庙之牺为畎亩之勤”',
						'D “秋七月，初税田”'
					];
					correctAnswer = 'A “庶人食力，工商食官”'
				}
				else if (promptChoice === "据研究，1853年，印度人均消费英国棉纱、棉布9.09便士，而中国是0.94便士。这反映出当时中国") {
					options = [
						'A 经济受到鸦片战争的破坏',
						'B 实行保护本国经济的政策',
						'C 经济的发展水平低于印度',
						'D 传统的小农经济根深蒂固'
					];
					correctAnswer = 'D 传统的小农经济根深蒂固'
				}
				else if (promptChoice === "孔子曾提出过“君子和而不同”的思想，意思是“和谐而又不千篇一律，不同而又不互相冲突”，运用这种思想处理不同社会制度国家间关系取得成功的范例是") {
					options = [
						'A 日内瓦会议的圆满成功',
						'B 万隆会议的圆满成功',
						'C 签订《中苏友好同盟互助条约》',
						'D 香港、澳门回归'
					];
					correctAnswer = 'B 万隆会议的圆满成功'
				}
				else if (promptChoice === "《齐民要术》自序：“盖神农为耒耜，以利天下，尧命四子，敬授民时，降命后稷，食为政首，……殷周之盛，《诗》《书》所述，要在安民，富而教之。”这段话主要强调") {
					options = [
						'A 农业技术和重要性',
						'B 历法与农业的关系',
						'C 儒家对农业的重视',
						'D 改进生产工具的意义'
					];
					correctAnswer = 'C 儒家对农业的重视'
				}
				else if (promptChoice === "明隆庆初年，“抚臣涂泽民用鉴前辙，为因势利导之举，请开市舶，易私贩而为公贩，易只通东西二洋，不得往日本倭国，亦禁不得以硝黄、铜、铁违禁之物夹带出海。奉旨允行，凡三十载，幸大盗不作，而海宇宴如”。这说明当时") {
					options = [
						'A 官府废止明初以来“海禁”',
						'B 巡抚掌握对外贸易决策权',
						'C 官方朝贡贸易体系已瓦解',
						'D 官府有条件地开放“海禁”'
					];
					correctAnswer = 'D 官府有条件地开放“海禁”'
				}
				else if (promptChoice === "下列改革中，实现了富国强兵，“倾邻国而雄诸侯”的是") {
					options = [
						'A 北魏孝文帝改革',
						'B 商鞅变法',
						'C 王安石变法',
						'D 汉武帝改革'
					];
					correctAnswer = 'B 商鞅变法'
				}

				// 将生成的选项添加到第二个下拉框中
				options.forEach(function(optionText) {
					var div = document.createElement('div');
					div.textContent = optionText;
					if (optionText === correctAnswer) {
						div.style.fontWeight = 'bold'; // 高亮显示正确答案
						div.style.color = 'green'; // 设置正确答案颜色为绿色
					}
					templateChoose.appendChild(div);
				});
			}
			var outputArea1 = document.querySelector('textarea[placeholder="输出文本1"]');

			outputArea1.value = ''; // 清空 outputArea1
			typeWriter(result.result, 0, outputArea1); // 显示获取的llm的回答
        });




		function typeWriter(text, index, outputArea) {
			if (index < text.length) {
				outputArea.value += text.charAt(index);
				setTimeout(function() {
					typeWriter(text, index + 1, outputArea);
				}, 100); // 调整时间间隔来加快或减慢打字速度
			}
		}
		  </script>
	</head>
	<body class="is-preload">


	<style>
			/* 设置页面容器 */
			.container {
				max-width: 1200px;
				width: 100%;
				padding: 20px;
				display: flex;
				justify-content: space-between; /* 左右两列对齐 */
				flex-wrap: wrap; /* 允许换行，避免在小屏幕时超出边界 */
			}

			/* 左侧部分，选择评测数据集 */
			.left-column {
				flex: 1 1 45%; /* 默认占45%的宽度 */
				padding-right: 20px; /* 添加右侧间距 */
			}

			/* 右侧部分，模型输出 */
			.right-column {
				flex: 1 1 45%; /* 默认占45%的宽度 */
				display: flex;
				flex-direction: column; /* 纵向排列 */
				align-items: flex-start; /* 左对齐 */
			}

			/* 右侧模型输出区域 */
			.right-column h3 {
				margin-bottom: 10px;
				margin-top: 40px;
			}

			/* 调整文本框的样式 */
			.right-column textarea {
				width: 100%;
				max-width: 530px; /* 限制最大宽度 */
				height: 300px; /* 固定高度 */
				margin-bottom: 30px;
				padding: 10px;
				font-size: 14px;
				border-radius: 5px;
				border: 1px solid #ccc;
				box-sizing: border-box;
				resize: none;
			}

			/* 响应式布局：小屏幕时调整列的宽度 */
			@media (max-width: 1200px) {
				.left-column, .right-column {
					flex: 1 1 48%; /* 左右两列占用48%宽度，增加一些间距 */
				}
			}

			@media (max-width: 768px) {
				.container {
					flex-direction: column; /* 屏幕宽度小于768px时，改为纵向排列 */
					align-items: stretch; /* 确保容器伸展，左右列会上下排列 */
				}

				.left-column, .right-column {
					flex: 1 1 100%; /* 列宽度占满屏幕 */
					padding-right: 0;
					padding-left: 0;
				}

				.right-column textarea {
					width: 100%;
					max-width: 100%; /* 确保宽度不会超出容器 */
				}
			}
		</style>


		<header class="navbar navbar-expand-md d-print-none">
			<div class="container-xl">
			  <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
				data-bs-target="#navbar-menu" aria-controls="navbar-menu"
				aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			  </button>
			  <!-- BEGIN NAVBAR LOGO -->
			<a href="/" class="navbar-brand navbar-brand-autodark me-3">
			<img src="../static/css/images/logo.png" 
				 class="navbar-brand-image" 
				 width="110" 
				 height="32" 
				 alt="Logo">
			</a>
		  <!-- END NAVBAR LOGO -->
			  <ul class="navbar-nav">
				<li class="nav-item">
				  <a class="nav-link" href="home">
					<span class="nav-link-icon">
					  <!-- Download SVG icon from http://tabler.io/icons/icon/home -->
					  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
						viewBox="0 0 24 24" fill="none" stroke="currentColor"
						stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
						class="icon icon-1">
						<path d="M5 12l-2 0l9 -9l9 9l-2 0" />
						<path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
						<path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
					  </svg>
					</span>
					<span class="nav-link-title"> 主页 </span>
				  </a>
				</li>
				<li class="nav-item active">
				  <a class="nav-link" href="llmindex">
					<span
					  class="nav-link-icon"><!-- Download SVG icon from http://tabler.io/icons/icon/checkbox -->
					  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
						viewBox="0 0 24 24" fill="none" stroke="currentColor"
						stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
						class="icon icon-1">
						<path d="M9 11l3 3l8 -8" />
						<path
						  d="M20 12v6a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h9" />
					  </svg>
					</span>
					<span class="nav-link-title"> 大语言模型安全评测 </span>
				  </a>
				</li>
				<li class="nav-item">
				  <a class="nav-link" href="index">
					<span
					  class="nav-link-icon"><!-- Download SVG icon from http://tabler.io/icons/icon/checkbox -->
					  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
						viewBox="0 0 24 24" fill="none" stroke="currentColor"
						stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
						class="icon icon-1">
						<path d="M9 11l3 3l8 -8" />
						<path
						  d="M20 12v6a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h9" />
					  </svg>
					</span>
					<span class="nav-link-title"> 深度学习模型安全评测 </span>
				  </a>
				</li>
			  </ul>
			  <div class="navbar-nav flex-row order-md-last ms-auto">
				<div class="nav-item">
					<!-- 移除 data-bs-toggle 属性，添加 href 链接 -->
					<a href="login.html" class="nav-link d-flex lh-1 text-reset" aria-label="登录">
						
						<div class="d-none d-xl-block ps-2">
							<div>登录</div>
						</div>
					</a>
				</div>
			</div>
			  </div>
			</div>
		  </header>
			<!-- <section id="one" class="main style1"> -->
				<div class="container">
	<div class="row gtr-150">
		<div class="col-6 col-12-medium">
			<div class="card">
                <div class="card-body">
                    <!-- 数据集选择 -->
                    <div class="mb-4">
                        <h3 class="mb-3">选择评测数据集</h3>
                        <div class="btn-group-vertical w-100" data-bs-toggle="buttons">
                            <label class="btn btn-outline-primary w-100 text-start">
                                <input type="radio" name="dataset_choose" id="dataset_choose_1" value="越狱攻击测试" class="btn-check" autocomplete="off">
                                红方测试
                                <!-- <small class="text-muted d-block">共78条数据</small> -->
                            </label>
							<label class="btn btn-outline-primary w-100 text-start">
								<input type="radio" name="dataset_choose" id="dataset_choose_0" value="可信测试" class="btn-check" autocomplete="off">
								可信测试
								<!-- <small class="text-muted d-block">共78条数据</small> -->
							</label>
                            <label class="btn btn-outline-primary w-100 text-start">
                                <input type="radio" name="dataset_choose" id="dataset_choose_2" value="心智测试" class="btn-check" autocomplete="off">
                                心智测试
                                <!-- <small class="text-muted d-block">共64条数据</small> -->
                            </label>
                            <button type="button" style="border-radius: 8px; font-size: 0.9rem; padding: 1.6rem; letter-spacing: 0; color: #1e1af3;" class="btn btn-outline-primary w-100 text-start" data-bs-toggle="collapse" data-bs-target="#ability-tests" aria-expanded="false" aria-controls="ability-tests" >
                              能力测试
                          </button>
                          
  
                          <!-- 能力测试下拉菜单 -->
                          <div class="collapse" id="ability-tests" style="margin-top: 4px;">
                              <label class="btn btn-outline-info w-100 text-start">
                                  <input type="radio" name="dataset_choose" id="dataset_choose_4" value="能力测试-国际法律" class="btn-check" autocomplete="off">
                                  能力测试-国际法律
                              </label>
                              <label class="btn btn-outline-info w-100 text-start">
                                  <input type="radio" name="dataset_choose" id="dataset_choose_5" value="能力测试-逻辑推理" class="btn-check" autocomplete="off">
                                  能力测试-逻辑推理
                              </label>
                              <label class="btn btn-outline-info w-100 text-start">
                                  <input type="radio" name="dataset_choose" id="dataset_choose_6" value="能力测试-商业道德" class="btn-check" autocomplete="off">
                                  能力测试-商业道德
                              </label>
                              <label class="btn btn-outline-info w-100 text-start">
                                  <input type="radio" name="dataset_choose" id="dataset_choose_7" value="能力测试-中国历史" class="btn-check" autocomplete="off">
                                  能力测试-中国历史
                              </label>
                              <label class="btn btn-outline-info w-100 text-start">
                                  <input type="radio" name="dataset_choose" id="dataset_choose_8" value="能力测试-中国文化" class="btn-check" autocomplete="off">
                                  能力测试-中国文化
                              </label>
                          </div>


                        </div>
                    </div>

					<form method="post" action="/llm_ability_test_china_history">
						<!-- 模型选择 -->
                        <div class="mb-4">
							<h3 class="mb-3">选择模型</h3>
							<div class="btn-group w-100" role="group" aria-label="模型选择" data-bs-toggle="buttons">
								<input type="radio" class="btn-check" name="module_choose" id="module_choose_1" value="Baichuan2-13B" autocomplete="off">
								<label class="btn btn-outline-success" for="module_choose_1">Baichuan2-13B</label>
						
								<input type="radio" class="btn-check" name="module_choose" id="module_choose_2" value="Qwen-7B" autocomplete="off">
								<label class="btn btn-outline-success" for="module_choose_2">Qwen-7B</label>
						
								<input type="radio" class="btn-check" name="module_choose" id="module_choose_3" value="ChatGLM" autocomplete="off">
								<label class="btn btn-outline-success" for="module_choose_3">ChatGLM</label>
							</div>
						</div>

						<!--问题选择-->
						<div class="mb-4">
                            <h3 class="h5 mb-2 text-truncate">问题选择</h3>
                            <select name="prompt_choose" id="prompt_choose" style="margin-bottom: 16px; font-size: 16px">
                                <option value="炎帝是我国传说时代的英雄，又称神农氏。据传他使用“焚林而田”的耕作方法，还发明了耒、耜等生产工具。这些传说" title="炎帝是我国传说时代的英雄，又称神农氏。据传他使用“焚林而田”的耕作方法，还发明了耒、耜等生产工具。这些传说">炎帝是我国传说时代的英雄，又称神农氏。据传他使用“焚林而田”的耕作方法，还发明了耒、耜等生产工具。这些传说</option>
								<option value="长征期间，国内外形势发生重大变化，民族矛盾加剧，中国共产党的方针政策进行重大调整。这一调整是指" title="长征期间，国内外形势发生重大变化，民族矛盾加剧，中国共产党的方针政策进行重大调整。这一调整是指">长征期间，国内外形势发生重大变化，民族矛盾加剧，中国共产党的方针政策进行重大调整。这一调整是指</option>
								<option value="下列改革中，实现了富国强兵，“倾邻国而雄诸侯”的是" title="下列改革中，实现了富国强兵，“倾邻国而雄诸侯”的是">下列改革中，实现了富国强兵，“倾邻国而雄诸侯”的是</option>
								<option value="随着中国民族资本主义产生和发展，工商业者群体意识逐渐形成，作为一种新的社会力量，工商业者在创办实业、抵制洋货、收回利权、立宪运动、民主革命、抗日救亡等众多社会事务中日益显示出自身的实力和存在价值。对此，下列历史解释正确的是" title="随着中国民族资本主义产生和发展，工商业者群体意识逐渐形成，作为一种新的社会力量，工商业者在创办实业、抵制洋货、收回利权、立宪运动、民主革命、抗日救亡等众多社会事务中日益显示出自身的实力和存在价值。对此，下列历史解释正确的是">随着中国民族资本主义产生和发展，工商业者群体意识逐渐形成，作为一种新的社会力量，工商业者在创办实业、抵制洋货、收回利权、立宪运动、民主革命、抗日救亡等众多社会事务中日益显示出自身的实力和存在价值。对此，下列历史解释正确的是</option>
								<option value="乾隆时江南地主“所居在城或他州异县，地亩山场皆委之佃户”。苏州甚至出现“土著安业者田不满百亩，余皆佃农也。上田半归于郡城之富户”。由此可知，当时江南" title="乾隆时江南地主“所居在城或他州异县，地亩山场皆委之佃户”。苏州甚至出现“土著安业者田不满百亩，余皆佃农也。上田半归于郡城之富户”。由此可知，当时江南">乾隆时江南地主“所居在城或他州异县，地亩山场皆委之佃户”。苏州甚至出现“土著安业者田不满百亩，余皆佃农也。上田半归于郡城之富户”。由此可知，当时江南</option>
								<option value="《新全球史》记载，从公元前6世纪开始，铁制农具在中国骤然增加，铁犁、铁镐、铁镰刀和铁耙在乡村里成为日常用具，这一现象给当时社会发展带来的影响不包括" title="《新全球史》记载，从公元前6世纪开始，铁制农具在中国骤然增加，铁犁、铁镐、铁镰刀和铁耙在乡村里成为日常用具，这一现象给当时社会发展带来的影响不包括">《新全球史》记载，从公元前6世纪开始，铁制农具在中国骤然增加，铁犁、铁镐、铁镰刀和铁耙在乡村里成为日常用具，这一现象给当时社会发展带来的影响不包括</option>
								<option value="据研究，1853年，印度人均消费英国棉纱、棉布9.09便士，而中国是0.94便士。这反映出当时中国" title="据研究，1853年，印度人均消费英国棉纱、棉布9.09便士，而中国是0.94便士。这反映出当时中国">据研究，1853年，印度人均消费英国棉纱、棉布9.09便士，而中国是0.94便士。这反映出当时中国</option>
								<option value="孔子曾提出过“君子和而不同”的思想，意思是“和谐而又不千篇一律，不同而又不互相冲突”，运用这种思想处理不同社会制度国家间关系取得成功的范例是" title="孔子曾提出过“君子和而不同”的思想，意思是“和谐而又不千篇一律，不同而又不互相冲突”，运用这种思想处理不同社会制度国家间关系取得成功的范例是">孔子曾提出过“君子和而不同”的思想，意思是“和谐而又不千篇一律，不同而又不互相冲突”，运用这种思想处理不同社会制度国家间关系取得成功的范例是</option>
								<option value="《齐民要术》自序：“盖神农为耒耜，以利天下，尧命四子，敬授民时，降命后稷，食为政首，……殷周之盛，《诗》《书》所述，要在安民，富而教之。”这段话主要强调" title="《齐民要术》自序：“盖神农为耒耜，以利天下，尧命四子，敬授民时，降命后稷，食为政首，……殷周之盛，《诗》《书》所述，要在安民，富而教之。”这段话主要强调">《齐民要术》自序：“盖神农为耒耜，以利天下，尧命四子，敬授民时，降命后稷，食为政首，……殷周之盛，《诗》《书》所述，要在安民，富而教之。”这段话主要强调</option>
								<option value="明隆庆初年，“抚臣涂泽民用鉴前辙，为因势利导之举，请开市舶，易私贩而为公贩，易只通东西二洋，不得往日本倭国，亦禁不得以硝黄、铜、铁违禁之物夹带出海。奉旨允行，凡三十载，幸大盗不作，而海宇宴如”。这说明当时" title="明隆庆初年，“抚臣涂泽民用鉴前辙，为因势利导之举，请开市舶，易私贩而为公贩，易只通东西二洋，不得往日本倭国，亦禁不得以硝黄、铜、铁违禁之物夹带出海。奉旨允行，凡三十载，幸大盗不作，而海宇宴如”。这说明当时">明隆庆初年，“抚臣涂泽民用鉴前辙，为因势利导之举，请开市舶，易私贩而为公贩，易只通东西二洋，不得往日本倭国，亦禁不得以硝黄、铜、铁违禁之物夹带出海。奉旨允行，凡三十载，幸大盗不作，而海宇宴如”。这说明当时</option>
							</select>
                        </div>

						<!--正确答案-->
						<div class="mb-4">
                            <h3 class="h5 mb-2 text-truncate">正确答案</h3>
                            <div id="template_choose">
								<script>
									// 监听第一个下拉框的选择变化
									document.getElementById('prompt_choose').addEventListener('change', function() {
										var promptChoice = this.value; // 获取选中的问题类型
										var templateChoose = document.getElementById('template_choose'); // 获取第二个下拉框

										// 清空第二个下拉框的内容
										templateChoose.innerHTML = '';

										// 根据选择的类型动态生成选项
										var options = [];
										var correctAnswer = ''

										if (promptChoice === "炎帝是我国传说时代的英雄，又称神农氏。据传他使用“焚林而田”的耕作方法，还发明了耒、耜等生产工具。这些传说") {
											options = [
												'A 可以作为中国原始农耕的直接证据',
												'B 证明了炎帝的真实存在',
												'C 是一种没有史料价值的想象',
												'D 折射出中国农耕文明源远流长'
											];
											correctAnswer = 'D 折射出中国农耕文明源远流长'
										} else if (promptChoice === "长征期间，国内外形势发生重大变化，民族矛盾加剧，中国共产党的方针政策进行重大调整。这一调整是指") {
											options = [
												'A 召开八七会议，确定武装反抗国民党反动派的总方针',
												'B 召开七大，确立毛泽东思想的指导地位',
												'C 发表“八一宣言”，号召停止内战，一致抗日',
												'D 召开遵义会议，纠正“左”倾错误路线'
											];
											correctAnswer = 'C 发表“八一宣言”，号召停止内战，一致抗日'
										}
										else if (promptChoice === "随着中国民族资本主义产生和发展，工商业者群体意识逐渐形成，作为一种新的社会力量，工商业者在创办实业、抵制洋货、收回利权、立宪运动、民主革命、抗日救亡等众多社会事务中日益显示出自身的实力和存在价值。对此，下列历史解释正确的是") {
											options = [
												'A 工商业者是倡导革命的新中坚力量',
												'B 工商业者依旧属于传统的社会群体',
												'C 工商业者投身社会事务是有利可图',
												'D 工商业者推动了近代中国社会发展'
											];
											correctAnswer = 'D 工商业者推动了近代中国社会发展'
										}
										else if (promptChoice === "乾隆时江南地主“所居在城或他州异县，地亩山场皆委之佃户”。苏州甚至出现“土著安业者田不满百亩，余皆佃农也。上田半归于郡城之富户”。由此可知，当时江南") {
											options = [
												'A 个体农耕为主要生产形式',
												'B 农业中商品化生产普遍',
												'C 农业生产利润微不足道',
												'D 土地所有权变更极为频繁'
											];
											correctAnswer = 'A 个体农耕为主要生产形式'
										}
										else if (promptChoice === "《新全球史》记载，从公元前6世纪开始，铁制农具在中国骤然增加，铁犁、铁镐、铁镰刀和铁耙在乡村里成为日常用具，这一现象给当时社会发展带来的影响不包括") {
											options = [
												'A “庶人食力，工商食官”',
												'B “除井田，民得买卖”',
												'C “宗庙之牺为畎亩之勤”',
												'D “秋七月，初税田”'
											];
											correctAnswer = 'A “庶人食力，工商食官”'
										}
										else if (promptChoice === "据研究，1853年，印度人均消费英国棉纱、棉布9.09便士，而中国是0.94便士。这反映出当时中国") {
											options = [
												'A 经济受到鸦片战争的破坏',
												'B 实行保护本国经济的政策',
												'C 经济的发展水平低于印度',
												'D 传统的小农经济根深蒂固'
											];
											correctAnswer = 'D 传统的小农经济根深蒂固'
										}
										else if (promptChoice === "孔子曾提出过“君子和而不同”的思想，意思是“和谐而又不千篇一律，不同而又不互相冲突”，运用这种思想处理不同社会制度国家间关系取得成功的范例是") {
											options = [
												'A 日内瓦会议的圆满成功',
												'B 万隆会议的圆满成功',
												'C 签订《中苏友好同盟互助条约》',
												'D 香港、澳门回归'
											];
											correctAnswer = 'B 万隆会议的圆满成功'
										}
										else if (promptChoice === "《齐民要术》自序：“盖神农为耒耜，以利天下，尧命四子，敬授民时，降命后稷，食为政首，……殷周之盛，《诗》《书》所述，要在安民，富而教之。”这段话主要强调") {
											options = [
												'A 农业技术和重要性',
												'B 历法与农业的关系',
												'C 儒家对农业的重视',
												'D 改进生产工具的意义'
											];
											correctAnswer = 'C 儒家对农业的重视'
										}
										else if (promptChoice === "明隆庆初年，“抚臣涂泽民用鉴前辙，为因势利导之举，请开市舶，易私贩而为公贩，易只通东西二洋，不得往日本倭国，亦禁不得以硝黄、铜、铁违禁之物夹带出海。奉旨允行，凡三十载，幸大盗不作，而海宇宴如”。这说明当时") {
											options = [
												'A 官府废止明初以来“海禁”',
												'B 巡抚掌握对外贸易决策权',
												'C 官方朝贡贸易体系已瓦解',
												'D 官府有条件地开放“海禁”'
											];
											correctAnswer = 'D 官府有条件地开放“海禁”'
										}
										else if (promptChoice === "下列改革中，实现了富国强兵，“倾邻国而雄诸侯”的是") {
											options = [
												'A 北魏孝文帝改革',
												'B 商鞅变法',
												'C 王安石变法',
												'D 汉武帝改革'
											];
											correctAnswer = 'B 商鞅变法'
										}

										// 将生成的选项添加到第二个下拉框中
										options.forEach(function(optionText) {
											var div = document.createElement('div');
											div.textContent = optionText;
											if (optionText === correctAnswer) {
												div.style.fontWeight = 'bold'; // 高亮显示正确答案
												div.style.color = 'green'; // 设置正确答案颜色为绿色
											}
											templateChoose.appendChild(div);
										});
									});

									// 初始化时触发一次更新
									document.getElementById('prompt_choose').dispatchEvent(new Event('change'));
								</script>
							</div>
                        </div>

						<button type="submit" class="btn btn-primary w-100 btn-lg">
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-robot" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                                <path d="M7 7h10a2 2 0 0 1 2 2v1l1 1v3l-1 1v3a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-3l-1 -1v-3l1 -1v-1a2 2 0 0 1 2 -2z" />
                                <path d="M10 16h4" />
                                <circle cx="8.5" cy="11.5" r=".5" fill="currentColor" />
                                <circle cx="15.5" cy="11.5" r=".5" fill="currentColor" />
                                <path d="M9 7l-1 -4" />
                                <path d="M15 7l1 -4" />
                            </svg>
                            获取模型输出
                        </button>
					</form>
                </div>
            </div>
        </div>

		<div class="col-6 col-12-medium imp-medium">
            <div class="card">
                <div class="card-body">
                    <h3 class="mb-3">模型输出：</h3>
                    <div class="form-floating">
                        <textarea id="result1" class="form-control" placeholder=" " style="height: 500px" readonly></textarea>
                        <label for="result1">模型响应内容</label>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- </section> -->

<!-- 保留原有脚本 -->				
<script src="static/js/jquery.min.js"></script>
<script src="static/js/jquery.scrolly.min.js"></script>
<script src="static/js/browser.min.js"></script>
<script src="static/js/breakpoints.min.js"></script>
<script src="static/js/util.js"></script>
<script src="static/js/main.js"></script>		
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
			
<script>

	document.addEventListener('DOMContentLoaded', function() {
			// 初始化默认选中

	
			// 绑定数据集切换事件
			document.querySelectorAll('input[name="dataset_choose"]').forEach(btn => {
				btn.addEventListener('change', function(e) {
					const urlMap = {
						'可信测试': '/llm_believable_test',
						'越狱攻击测试': '/llmindex',
						'心智测试': '/llm_mind_test',
						'能力测试-国际法律': '/llm_ability_test_international_law',
							  '能力测试-逻辑推理': '/llm_ability_test_logic_reasoning',
							  '能力测试-商业道德': '/llm_ability_test_business_ethics',
							  '能力测试-中国历史': '/llm_ability_test_china_history',
							  '能力测试-中国文化': '/llm_ability_test_china_culture'
					};
					window.location.href = urlMap[e.target.value];
				});
			});
	
			
			// 动态填充表单数据
			const result = {{ result|tojson }};
			if (result.model) {
				document.querySelector(`input[value="${result.model}"]`).checked = true;
				document.getElementById('prompt_choose').value = result.select_prompt;
				document.getElementById('prompt_choose').dispatchEvent(new Event('change'));

			}
	
			// 初始化输出区域
			const output1 = document.getElementById('result1');
			output1.value  = '';
			typeWriter(result.result, 0, output1);
		});
	
		function typeWriter(text, index, output) {
			if (index < text.length) {
				output.value += text.charAt(index);
				setTimeout(() => typeWriter(text, index + 1, output), 50);
			}
		}
		
		</script>

<style>
/* 补充样式调整 */
.btn-group-vertical label.btn {
    padding: 1rem;
    margin-bottom: 0.5rem;
    border-radius: 8px !important;
    transition: all 0.2s ease;
}

.btn-check:checked + .btn {
    background-color: var(--tblr-primary);
    border-color: var(--tblr-primary);
    color: white;
}

.form-select-lg {
    font-size: 1rem;
    padding: 1rem;
    border-radius: 8px;
}

.form-floating textarea {
    min-height: 500px;
    font-family: Monaco, Consolas, monospace;
    font-size: 0.875rem;
}
</style>

	</body>
</html>